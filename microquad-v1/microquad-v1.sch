EESchema Schematic File Version 2
LIBS:ft230xs
LIBS:usb_microb
LIBS:power
LIBS:device
LIBS:switches
LIBS:relays
LIBS:motors
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:atmega328pb
LIBS:eclectronics
LIBS:imulogger2
LIBS:microquad-v1-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 15
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 3550 2200 800  200 
U 59F2417D
F0 "Regulator" 60
F1 "reg.sch" 60
F2 "OUT" I R 4350 2300 60 
F3 "IN" I L 3550 2300 60 
$EndSheet
$Sheet
S 725  2300 825  500 
U 59F242F1
F0 "USB interface" 60
F1 "usb_uart.sch" 60
F2 "RX" I R 1550 2350 60 
F3 "TX" I R 1550 2450 60 
F4 "5V" I R 1550 2750 60 
$EndSheet
$Sheet
S 2650 4500 950  550 
U 59F2494E
F0 "ATMEGA power" 60
F1 "atmega328_power.sch" 60
F2 "VCC" I R 3600 4550 60 
F3 "AVCC" I R 3600 4650 60 
F4 "AREF" I R 3600 4750 60 
F5 "RESET" I R 3600 4950 60 
$EndSheet
$Comp
L ATMEGA328PB U1
U 2 1 59F26F3B
P 6000 4050
F 0 "U1" H 6200 4300 60  0000 L CNN
F 1 "ATMEGA328PB" H 6200 4200 60  0000 L CNN
F 2 "Housings_QFP:TQFP-32_7x7mm_Pitch0.8mm" H 6000 4050 60  0001 C CNN
F 3 "" H 6000 4050 60  0001 C CNN
	2    6000 4050
	1    0    0    -1  
$EndComp
$Comp
L ATMEGA328PB U1
U 1 1 59F2742E
P 900 6025
F 0 "U1" H 1100 6275 60  0000 L CNN
F 1 "ATMEGA328PB" H 1100 6175 60  0000 L CNN
F 2 "Housings_QFP:TQFP-32_7x7mm_Pitch0.8mm" H 900 6025 60  0001 C CNN
F 3 "" H 900 6025 60  0001 C CNN
	1    900  6025
	1    0    0    -1  
$EndComp
$Comp
L ATMEGA328PB U1
U 3 1 59F274A5
P 4150 4550
F 0 "U1" H 4350 4800 60  0000 L CNN
F 1 "ATMEGA328PB" H 4350 4700 60  0000 L CNN
F 2 "Housings_QFP:TQFP-32_7x7mm_Pitch0.8mm" H 4150 4550 60  0001 C CNN
F 3 "" H 4150 4550 60  0001 C CNN
	3    4150 4550
	1    0    0    -1  
$EndComp
$Comp
L ATMEGA328PB U1
U 4 1 59F27516
P 2450 1250
F 0 "U1" H 2650 1500 60  0000 L CNN
F 1 "ATMEGA328PB" H 2650 1400 60  0000 L CNN
F 2 "Housings_QFP:TQFP-32_7x7mm_Pitch0.8mm" H 2450 1250 60  0001 C CNN
F 3 "" H 2450 1250 60  0001 C CNN
	4    2450 1250
	1    0    0    -1  
$EndComp
$Comp
L ATMEGA328PB U1
U 5 1 59F275A9
P 7775 1200
F 0 "U1" H 7975 1450 60  0000 L CNN
F 1 "ATMEGA328PB" H 7975 1350 60  0000 L CNN
F 2 "Housings_QFP:TQFP-32_7x7mm_Pitch0.8mm" H 7775 1200 60  0001 C CNN
F 3 "" H 7775 1200 60  0001 C CNN
	5    7775 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	4150 4750 3850 4750
Wire Wire Line
	3850 4750 3850 4650
Wire Wire Line
	3850 4650 3600 4650
Wire Wire Line
	3600 4750 3800 4750
Wire Wire Line
	3800 4750 3800 4850
Wire Wire Line
	3800 4850 4150 4850
Wire Wire Line
	4150 4550 3600 4550
$Comp
L GND #PWR01
U 1 1 59F2869E
P 4150 4650
F 0 "#PWR01" H 4150 4400 50  0001 C CNN
F 1 "GND" H 4150 4500 50  0000 C CNN
F 2 "" H 4150 4650 50  0001 C CNN
F 3 "" H 4150 4650 50  0001 C CNN
	1    4150 4650
	0    1    1    0   
$EndComp
Wire Wire Line
	3600 4950 4150 4950
Text Label 4150 4950 2    60   ~ 0
RESET
$Comp
L +3V3 #PWR02
U 1 1 59F530BC
P 4500 2300
F 0 "#PWR02" H 4500 2150 50  0001 C CNN
F 1 "+3V3" H 4500 2440 50  0000 C CNN
F 2 "" H 4500 2300 50  0001 C CNN
F 3 "" H 4500 2300 50  0001 C CNN
	1    4500 2300
	1    0    0    -1  
$EndComp
$Comp
L C C1
U 1 1 59F54C39
P 4500 2600
F 0 "C1" H 4525 2700 50  0000 L CNN
F 1 "10uF" H 4525 2500 50  0000 L CNN
F 2 "Capacitors_SMD:C_0805" H 4538 2450 50  0001 C CNN
F 3 "" H 4500 2600 50  0001 C CNN
	1    4500 2600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR03
U 1 1 59F54CA2
P 4500 2750
F 0 "#PWR03" H 4500 2500 50  0001 C CNN
F 1 "GND" H 4500 2600 50  0000 C CNN
F 2 "" H 4500 2750 50  0001 C CNN
F 3 "" H 4500 2750 50  0001 C CNN
	1    4500 2750
	1    0    0    -1  
$EndComp
Wire Wire Line
	4500 2300 4500 2450
Wire Wire Line
	4500 2300 4350 2300
$Sheet
S 2200 2900 900  200 
U 59F56F7F
F0 "Battery" 60
F1 "liion_bat.sch" 60
F2 "Vout" I R 3100 3000 60 
F3 "Vcharge" I L 2200 3000 60 
$EndSheet
Wire Wire Line
	1550 2750 2100 2750
Wire Wire Line
	2100 2750 2100 3000
Wire Wire Line
	3100 3000 3250 3000
Wire Wire Line
	2100 3000 2200 3000
Text Label 3350 2300 2    60   ~ 0
VBAT
Wire Wire Line
	3250 3000 3250 2900
Wire Wire Line
	3350 2500 3350 2300
Wire Wire Line
	3350 2300 3550 2300
NoConn ~ 3450 2900
Wire Wire Line
	1550 1850 1650 1850
Wire Wire Line
	1650 1850 1650 2150
Wire Wire Line
	1650 2150 1800 2150
Wire Wire Line
	2450 2250 2450 1350
Wire Wire Line
	2200 2250 2450 2250
$Sheet
S 1250 4125 500  150 
U 59F6B2DC
F0 "PowerLED" 60
F1 "LED.sch" 60
F2 "Vin" I L 1250 4200 60 
$EndSheet
$Sheet
S 2150 6150 500  150 
U 59F6B438
F0 "sheet59F6B436" 60
F1 "LED.sch" 60
F2 "Vin" I L 2150 6225 60 
$EndSheet
$Comp
L +3V3 #PWR04
U 1 1 59F6B9F3
P 1025 4050
F 0 "#PWR04" H 1025 3900 50  0001 C CNN
F 1 "+3V3" H 1025 4190 50  0000 C CNN
F 2 "" H 1025 4050 50  0001 C CNN
F 3 "" H 1025 4050 50  0001 C CNN
	1    1025 4050
	1    0    0    -1  
$EndComp
Wire Wire Line
	1025 4050 1025 4200
Wire Wire Line
	1025 4200 1250 4200
NoConn ~ 1900 6025
NoConn ~ 1900 6125
NoConn ~ 1900 6425
NoConn ~ 900  6425
NoConn ~ 900  6325
NoConn ~ 900  6225
NoConn ~ 900  6125
NoConn ~ 900  6025
Wire Wire Line
	3850 1250 4200 1250
Wire Wire Line
	4200 1350 3850 1350
$Sheet
S 4200 1150 750  300 
U 59F74A78
F0 "IMU" 60
F1 "mpu9250.sch" 60
F2 "SCL" I L 4200 1250 60 
F3 "SDA" I L 4200 1350 60 
F4 "INT" I R 4950 1300 60 
$EndSheet
NoConn ~ 7200 4650
NoConn ~ 1900 6325
Wire Wire Line
	1900 6225 2150 6225
$Comp
L SW_Push SW3
U 1 1 59F7EEE0
P 3900 5350
F 0 "SW3" H 3950 5450 50  0000 L CNN
F 1 "RESET" H 3900 5290 50  0000 C CNN
F 2 "Buttons_Switches_SMD:SW_SPST_B3U-1000P" H 3900 5550 50  0001 C CNN
F 3 "" H 3900 5550 50  0001 C CNN
	1    3900 5350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR05
U 1 1 59F7EFD3
P 3650 5350
F 0 "#PWR05" H 3650 5100 50  0001 C CNN
F 1 "GND" H 3650 5200 50  0000 C CNN
F 2 "" H 3650 5350 50  0001 C CNN
F 3 "" H 3650 5350 50  0001 C CNN
	1    3650 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	3650 5350 3700 5350
Wire Wire Line
	4150 4950 4150 5350
Wire Wire Line
	4150 5350 4100 5350
$Comp
L Conn_02x03_Odd_Even ICSP1
U 1 1 59F84B16
P 6875 1300
F 0 "ICSP1" H 6925 1500 50  0000 C CNN
F 1 "Conn_02x03" H 6925 1100 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_2x03_Pitch2.54mm" H 6875 1300 50  0001 C CNN
F 3 "" H 6875 1300 50  0001 C CNN
	1    6875 1300
	1    0    0    -1  
$EndComp
Wire Wire Line
	7175 1200 7275 1200
Wire Wire Line
	7275 1200 7275 1000
Wire Wire Line
	7175 1400 7275 1400
$Comp
L GND #PWR06
U 1 1 59F8679D
P 7275 1400
F 0 "#PWR06" H 7275 1150 50  0001 C CNN
F 1 "GND" H 7275 1250 50  0000 C CNN
F 2 "" H 7275 1400 50  0001 C CNN
F 3 "" H 7275 1400 50  0001 C CNN
	1    7275 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	7175 1300 7775 1300
Wire Wire Line
	6675 1300 6375 1300
Wire Wire Line
	6375 1300 6375 1600
Wire Wire Line
	6375 1600 7775 1600
Wire Wire Line
	7775 1600 7775 1500
Wire Wire Line
	7775 1400 7725 1400
Wire Wire Line
	7725 1400 7725 1650
Wire Wire Line
	7725 1650 6325 1650
Wire Wire Line
	6325 1650 6325 1200
Wire Wire Line
	6325 1200 6675 1200
Wire Wire Line
	6675 1400 6425 1400
Text Label 6425 1400 0    60   ~ 0
RESET
$Comp
L GND #PWR07
U 1 1 59F8B068
P 7775 1200
F 0 "#PWR07" H 7775 950 50  0001 C CNN
F 1 "GND" H 7775 1050 50  0000 C CNN
F 2 "" H 7775 1200 50  0001 C CNN
F 3 "" H 7775 1200 50  0001 C CNN
	1    7775 1200
	0    1    1    0   
$EndComp
Text Label 5325 1300 2    60   ~ 0
IMU_INT
Text Label 7200 5150 1    60   ~ 0
IMU_INT
Wire Wire Line
	7200 4750 7200 5150
$Comp
L SW_SPDT SW2
U 1 1 59F9E6E3
P 3350 2700
F 0 "SW2" H 3350 2870 50  0000 C CNN
F 1 "POWER" H 3350 2500 50  0000 C CNN
F 2 "motor:quad_switch" H 3350 2700 50  0001 C CNN
F 3 "" H 3350 2700 50  0001 C CNN
	1    3350 2700
	0    1    1    0   
$EndComp
Connection ~ 4500 2300
$Sheet
S 950  1675 600  250 
U 59FAC346
F0 "BLE" 60
F1 "ble.sch" 60
F2 "RX" I R 1550 1750 60 
F3 "TX" I R 1550 1850 60 
$EndSheet
Wire Wire Line
	5325 1300 4950 1300
Text Notes 2475 2025 0    60   ~ 0
DPDT switch?\n
$Comp
L +3V3 #PWR08
U 1 1 59F86353
P 7275 1000
F 0 "#PWR08" H 7275 850 50  0001 C CNN
F 1 "+3V3" H 7275 1140 50  0000 C CNN
F 2 "" H 7275 1000 50  0001 C CNN
F 3 "" H 7275 1000 50  0001 C CNN
	1    7275 1000
	1    0    0    -1  
$EndComp
$Comp
L SW_DPDT_x2 SW1
U 1 1 59F7AC4E
P 2000 2250
F 0 "SW1" H 2000 2420 50  0000 C CNN
F 1 "SERIAL" H 2000 2050 50  0000 C CNN
F 2 "motor:quad_switch" H 2000 2250 50  0001 C CNN
F 3 "" H 2000 2250 50  0001 C CNN
	1    2000 2250
	-1   0    0    1   
$EndComp
$Comp
L SW_DPDT_x2 SW1
U 2 1 59F7AD73
P 2025 1775
F 0 "SW1" H 2025 1945 50  0000 C CNN
F 1 "SERIAL" H 2025 1575 50  0000 C CNN
F 2 "motor:quad_switch" H 2025 1775 50  0001 C CNN
F 3 "" H 2025 1775 50  0001 C CNN
	2    2025 1775
	-1   0    0    1   
$EndComp
Wire Wire Line
	1550 1750 1650 1750
Wire Wire Line
	1650 1750 1650 1675
Wire Wire Line
	1650 1675 1825 1675
Wire Wire Line
	1825 1875 1700 1875
Wire Wire Line
	2225 1775 2375 1775
Wire Wire Line
	2375 1775 2375 1250
Wire Wire Line
	2375 1250 2450 1250
Wire Wire Line
	1550 2350 1700 2350
Wire Wire Line
	1700 2350 1700 1875
Wire Wire Line
	1800 2350 1800 2450
Wire Wire Line
	1800 2450 1550 2450
$Sheet
S 8350 3300 925  175 
U 59F7E793
F0 "Motor1" 60
F1 "motor.sch" 60
F2 "ENABLE" I L 8350 3375 60 
F3 "VBAT" I R 9275 3375 60 
$EndSheet
$Sheet
S 8350 3650 925  175 
U 59F7F6E8
F0 "Motor2" 60
F1 "motor.sch" 60
F2 "ENABLE" I L 8350 3725 60 
F3 "VBAT" I R 9275 3725 60 
$EndSheet
$Sheet
S 8350 4000 925  175 
U 59F7FC5E
F0 "Motor3" 60
F1 "motor.sch" 60
F2 "ENABLE" I L 8350 4075 60 
F3 "VBAT" I R 9275 4075 60 
$EndSheet
$Sheet
S 8350 4350 925  175 
U 59F7FC61
F0 "Motor4" 60
F1 "motor.sch" 60
F2 "ENABLE" I L 8350 4425 60 
F3 "VBAT" I R 9275 4425 60 
$EndSheet
$Sheet
S 8350 4700 925  175 
U 59F7FFA1
F0 "Motor5" 60
F1 "motor.sch" 60
F2 "ENABLE" I L 8350 4775 60 
F3 "VBAT" I R 9275 4775 60 
$EndSheet
$Sheet
S 8350 5050 925  175 
U 59F7FFA4
F0 "Motor6" 60
F1 "motor.sch" 60
F2 "ENABLE" I L 8350 5125 60 
F3 "VBAT" I R 9275 5125 60 
$EndSheet
Wire Wire Line
	7200 4050 7450 4050
Wire Wire Line
	7450 4050 7450 3375
Wire Wire Line
	7450 3375 8350 3375
Wire Wire Line
	8350 3725 7550 3725
Wire Wire Line
	7550 3725 7550 4150
Wire Wire Line
	7550 4150 7200 4150
Wire Wire Line
	7200 4250 7650 4250
Wire Wire Line
	7650 4250 7650 4075
Wire Wire Line
	7650 4075 8350 4075
Wire Wire Line
	8350 4425 7650 4425
Wire Wire Line
	7650 4425 7650 4350
Wire Wire Line
	7650 4350 7200 4350
Wire Wire Line
	8350 4775 7550 4775
Wire Wire Line
	7550 4775 7550 4450
Wire Wire Line
	7550 4450 7200 4450
Wire Wire Line
	7200 4550 7450 4550
Wire Wire Line
	7450 4550 7450 5125
Wire Wire Line
	7450 5125 8350 5125
Text Label 9375 3200 0    60   ~ 0
VBAT
Wire Wire Line
	9375 3200 9375 5125
Wire Wire Line
	9375 5125 9275 5125
Wire Wire Line
	9275 4775 9375 4775
Connection ~ 9375 4775
Wire Wire Line
	9275 4425 9375 4425
Connection ~ 9375 4425
Wire Wire Line
	9275 3375 9375 3375
Connection ~ 9375 3375
Wire Wire Line
	9275 3725 9375 3725
Connection ~ 9375 3725
Wire Wire Line
	9275 4075 9375 4075
Connection ~ 9375 4075
$EndSCHEMATC
